---
title: "R Notebook"
output: html_notebook
---




```{r}
library(rhdf5)
h5_file <- "ex_hdf5file.h5"
if (file.exists(h5_file)) file.remove(h5_file)
h5createFile(h5_file)

# write a matrix
B = array(seq(0.1,2.0, by=0.1), dim=c(5,2,2))
attr(B, "scale") <- "liter"
h5write(B, h5_file, "B")
df <- h5ls(h5_file)
print(df)
```

```{r}
# read a matrix
E = h5read(h5_file,"B")
E
```

```{r}
# write and read submatrix
h5createDataset("ex_hdf5file.h5", "S", c(5,8), storage.mode = "integer", chunk=c(5,1), level=7)
h5write(matrix(1:5,nr=5,nc=1), file="ex_hdf5file.h5", name="S", index=list(NULL,1))
h5read("ex_hdf5file.h5", "S")
h5read("ex_hdf5file.h5", "S", index=list(NULL,2:3))
```

```{r}
# list content of hdf5 file
h5ls("ex_hdf5file.h5")
H5close()
```

